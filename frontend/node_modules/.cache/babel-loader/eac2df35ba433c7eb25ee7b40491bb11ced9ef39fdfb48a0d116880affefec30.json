{"ast":null,"code":"var _jsxFileName = \"E:\\\\INDIAN TOUR\\\\frontend\\\\src\\\\AddPlace.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddPlace({\n  token,\n  onDone\n}) {\n  _s();\n  const [name, setName] = useState('');\n  const [state, setState] = useState('');\n  const [desc, setDesc] = useState('');\n  const [files, setFiles] = useState(null);\n  const [err, setErr] = useState('');\n  function submit(e) {\n    e.preventDefault();\n    if (!token) {\n      setErr('Login required');\n      return;\n    }\n    const fd = new FormData();\n    fd.append('name', name);\n    fd.append('state', state);\n    fd.append('description', desc);\n    fd.append('token', token);\n    if (files) for (let i = 0; i < files.length; i++) fd.append('files', files[i]);\n    fetch('http://localhost:8000/places', {\n      method: 'POST',\n      body: fd\n    }).then(r => r.json()).then(data => {\n      if (data.detail) setErr(data.detail);else {\n        onDone();\n      }\n    }).catch(() => setErr('Network error'));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 520\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add Place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Place name\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"State\",\n        value: state,\n        onChange: e => setState(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 165\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Description\",\n        value: desc,\n        onChange: e => setDesc(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 246\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Photos (0-2MB each)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 334\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: e => setFiles(e.target.files)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 368\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 436\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red'\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 494\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5,\n      columnNumber: 57\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 11\n  }, this);\n}\n_s(AddPlace, \"tN/nw/L/IRwK452zEO8KHgWTIuk=\");\n_c = AddPlace;\nvar _c;\n$RefreshReg$(_c, \"AddPlace\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","AddPlace","token","onDone","_s","name","setName","state","setState","desc","setDesc","files","setFiles","err","setErr","submit","e","preventDefault","fd","FormData","append","i","length","fetch","method","body","then","r","json","data","detail","catch","style","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","type","multiple","className","color","_c","$RefreshReg$"],"sources":["E:/INDIAN TOUR/frontend/src/AddPlace.js"],"sourcesContent":["import React, {useState} from 'react';\nexport default function AddPlace({token, onDone}){\n  const [name,setName]=useState(''); const [state,setState]=useState(''); const [desc,setDesc]=useState(''); const [files,setFiles]=useState(null); const [err,setErr]=useState('');\n  function submit(e){ e.preventDefault(); if(!token){ setErr('Login required'); return; } const fd=new FormData(); fd.append('name',name); fd.append('state',state); fd.append('description',desc); fd.append('token', token); if(files) for(let i=0;i<files.length;i++) fd.append('files', files[i]); fetch('http://localhost:8000/places',{method:'POST', body:fd}).then(r=>r.json()).then(data=>{ if(data.detail) setErr(data.detail); else { onDone(); } }).catch(()=>setErr('Network error')); }\n  return (<div style={{maxWidth:520}}><h2>Add Place</h2><form onSubmit={submit}><input placeholder='Place name' value={name} onChange={e=>setName(e.target.value)}/><input placeholder='State' value={state} onChange={e=>setState(e.target.value)}/><textarea placeholder='Description' value={desc} onChange={e=>setDesc(e.target.value)}/><label>Photos (0-2MB each)</label><input type='file' multiple onChange={e=>setFiles(e.target.files)}/><button className='btn' type='submit'>Add</button>{err && <div style={{color:'red'}}>{err}</div>}</form></div>)\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}