{"ast":null,"code":"var _jsxFileName = \"E:\\\\INDIAN TOUR\\\\frontend\\\\src\\\\AddPlace.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddPlace({\n  token,\n  onDone\n}) {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [stateName, setStateName] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [files, setFiles] = useState(null);\n  const [err, setErr] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const statesList = [\"Andhra Pradesh\", \"Arunachal Pradesh\", \"Assam\", \"Bihar\", \"Chhattisgarh\", \"Goa\", \"Gujarat\", \"Haryana\", \"Himachal Pradesh\", \"Jharkhand\", \"Karnataka\", \"Kerala\", \"Madhya Pradesh\", \"Maharashtra\", \"Manipur\", \"Meghalaya\", \"Mizoram\", \"Nagaland\", \"Odisha\", \"Punjab\", \"Rajasthan\", \"Sikkim\", \"Tamil Nadu\", \"Telangana\", \"Tripura\", \"Uttar Pradesh\", \"Uttarakhand\", \"West Bengal\"];\n  async function submit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    setSuccess(\"\");\n    if (!token) {\n      setErr(\"Login required\");\n      return;\n    }\n    if (!stateName) {\n      setErr(\"Please select a state\");\n      return;\n    }\n    const fd = new FormData();\n    fd.append(\"name\", name);\n    fd.append(\"state\", stateName);\n    fd.append(\"description\", desc);\n    fd.append(\"token\", token);\n    if (files) {\n      for (let i = 0; i < files.length; i++) fd.append(\"files\", files[i]);\n    }\n    try {\n      const res = await fetch(\"http://localhost:8000/places\", {\n        method: \"POST\",\n        body: fd\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setErr(data.detail || \"Failed to add place\");\n      } else {\n        setSuccess(`✅ Place added successfully to ${stateName}!`);\n        setName(\"\");\n        setDesc(\"\");\n        setFiles(null);\n        setStateName(\"\");\n        // ✅ Automatically refresh parent view (go back to states)\n        onDone && onDone(stateName);\n      }\n    } catch {\n      setErr(\"Network error\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      height: \"80vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"white\",\n          marginBottom: \"15px\"\n        },\n        children: \"Add New Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Place Name\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true,\n          style: input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: stateName,\n          onChange: e => setStateName(e.target.value),\n          style: input,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select State\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), statesList.map(st => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: st,\n            children: st\n          }, st, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Description\",\n          value: desc,\n          onChange: e => setDesc(e.target.value),\n          style: {\n            ...input,\n            height: \"80px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          multiple: true,\n          accept: \"image/*\",\n          onChange: e => setFiles(e.target.files),\n          style: input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: button,\n          children: \"Add Place\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"yellow\",\n            marginTop: \"10px\"\n          },\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#00ff99\",\n            marginTop: \"10px\"\n          },\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(AddPlace, \"/ZutARlqqen4UoSG99ZiTPqm9Yo=\");\n_c = AddPlace;\nconst card = {\n  background: \"linear-gradient(135deg, #ff9966, #ff5e62)\",\n  padding: \"40px\",\n  borderRadius: \"12px\",\n  boxShadow: \"0 8px 20px rgba(0,0,0,0.2)\",\n  width: \"400px\",\n  textAlign: \"center\"\n};\nconst input = {\n  width: \"100%\",\n  padding: \"10px\",\n  margin: \"8px 0\",\n  borderRadius: \"6px\",\n  border: \"none\",\n  outline: \"none\"\n};\nconst button = {\n  ...input,\n  background: \"#fff\",\n  color: \"#333\",\n  cursor: \"pointer\",\n  fontWeight: \"bold\"\n};\nvar _c;\n$RefreshReg$(_c, \"AddPlace\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","AddPlace","token","onDone","_s","name","setName","stateName","setStateName","desc","setDesc","files","setFiles","err","setErr","success","setSuccess","statesList","submit","e","preventDefault","fd","FormData","append","i","length","res","fetch","method","body","data","json","ok","detail","style","display","justifyContent","height","children","card","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","input","map","st","multiple","accept","button","marginTop","_c","background","padding","borderRadius","boxShadow","width","textAlign","margin","border","outline","cursor","fontWeight","$RefreshReg$"],"sources":["E:/INDIAN TOUR/frontend/src/AddPlace.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nexport default function AddPlace({ token, onDone }) {\n  const [name, setName] = useState(\"\");\n  const [stateName, setStateName] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [files, setFiles] = useState(null);\n  const [err, setErr] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const statesList = [\n    \"Andhra Pradesh\", \"Arunachal Pradesh\", \"Assam\", \"Bihar\", \"Chhattisgarh\",\n    \"Goa\", \"Gujarat\", \"Haryana\", \"Himachal Pradesh\", \"Jharkhand\", \"Karnataka\",\n    \"Kerala\", \"Madhya Pradesh\", \"Maharashtra\", \"Manipur\", \"Meghalaya\",\n    \"Mizoram\", \"Nagaland\", \"Odisha\", \"Punjab\", \"Rajasthan\", \"Sikkim\",\n    \"Tamil Nadu\", \"Telangana\", \"Tripura\", \"Uttar Pradesh\", \"Uttarakhand\",\n    \"West Bengal\"\n  ];\n\n  async function submit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    setSuccess(\"\");\n\n    if (!token) {\n      setErr(\"Login required\");\n      return;\n    }\n    if (!stateName) {\n      setErr(\"Please select a state\");\n      return;\n    }\n\n    const fd = new FormData();\n    fd.append(\"name\", name);\n    fd.append(\"state\", stateName);\n    fd.append(\"description\", desc);\n    fd.append(\"token\", token);\n    if (files) {\n      for (let i = 0; i < files.length; i++) fd.append(\"files\", files[i]);\n    }\n\n    try {\n      const res = await fetch(\"http://localhost:8000/places\", {\n        method: \"POST\",\n        body: fd,\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        setErr(data.detail || \"Failed to add place\");\n      } else {\n        setSuccess(`✅ Place added successfully to ${stateName}!`);\n        setName(\"\");\n        setDesc(\"\");\n        setFiles(null);\n        setStateName(\"\");\n        // ✅ Automatically refresh parent view (go back to states)\n        onDone && onDone(stateName);\n      }\n    } catch {\n      setErr(\"Network error\");\n    }\n  }\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", height: \"80vh\" }}>\n      <div style={card}>\n        <h2 style={{ color: \"white\", marginBottom: \"15px\" }}>Add New Place</h2>\n        <form onSubmit={submit}>\n          <input\n            type=\"text\"\n            placeholder=\"Place Name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n            style={input}\n          />\n\n          {/* ✅ State dropdown */}\n          <select\n            value={stateName}\n            onChange={(e) => setStateName(e.target.value)}\n            style={input}\n            required\n          >\n            <option value=\"\">Select State</option>\n            {statesList.map((st) => (\n              <option key={st} value={st}>\n                {st}\n              </option>\n            ))}\n          </select>\n\n          <textarea\n            placeholder=\"Description\"\n            value={desc}\n            onChange={(e) => setDesc(e.target.value)}\n            style={{ ...input, height: \"80px\" }}\n          />\n\n          <input\n            type=\"file\"\n            multiple\n            accept=\"image/*\"\n            onChange={(e) => setFiles(e.target.files)}\n            style={input}\n          />\n\n          <button type=\"submit\" style={button}>\n            Add Place\n          </button>\n\n          {err && <div style={{ color: \"yellow\", marginTop: \"10px\" }}>{err}</div>}\n          {success && (\n            <div style={{ color: \"#00ff99\", marginTop: \"10px\" }}>{success}</div>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nconst card = {\n  background: \"linear-gradient(135deg, #ff9966, #ff5e62)\",\n  padding: \"40px\",\n  borderRadius: \"12px\",\n  boxShadow: \"0 8px 20px rgba(0,0,0,0.2)\",\n  width: \"400px\",\n  textAlign: \"center\",\n};\n\nconst input = {\n  width: \"100%\",\n  padding: \"10px\",\n  margin: \"8px 0\",\n  borderRadius: \"6px\",\n  border: \"none\",\n  outline: \"none\",\n};\n\nconst button = {\n  ...input,\n  background: \"#fff\",\n  color: \"#333\",\n  cursor: \"pointer\",\n  fontWeight: \"bold\",\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}